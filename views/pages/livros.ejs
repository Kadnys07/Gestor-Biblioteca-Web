<div class="flex justify-between items-center mb-6">
    <h1 class="text-3xl font-bold text-gray-800">Acervo de Livros</h1>
    <a href="/livros/novo" class="flex items-center px-4 py-2 font-semibold text-white bg-green-700 rounded-md hover:bg-green-800 transition-colors">
        <i class="ph-bold ph-plus mr-2"></i> Adicionar Livro
    </a>
</div>
<div class="mb-4 flex space-x-4">
  <input type="search" id="livro-search" placeholder="Pesquisar por título ou autor..." class="w-full px-3 py-2 border border-gray-300 rounded-md">
  <select id="livro-status-filter" class="px-3 py-2 border border-gray-300 rounded-md">
    <option value="todos">Todos</option>
    <option value="disponivel">Disponíveis</option>
    <option value="indisponivel">Indisponíveis</option>
  </select>
</div>
<div class="bg-white p-4 rounded-lg shadow-md">
  <table class="w-full text-left" id="tabela-livros">
    <thead class="border-b-2 border-gray-200">
      <tr>
        <th class="p-3">Título</th>
        <th class="p-3">Autor</th>
        <th class="p-3">Gênero</th>
        <th class="p-3">Disponível</th>
        <th class="p-3">Ações</th>
      </tr>
    </thead>
    <tbody>
      <% livros.forEach(livro => { %>
        <tr class="border-b border-gray-100"
            data-status="<%= livro.disponivel > 0 ? 'disponivel' : 'indisponivel' %>"
            data-search="<%= livro.titulo %> <%= livro.autor %> <%= livro.genero %>">
          <td class="p-3"><%= livro.titulo %></td>
          <td class="p-3"><%= livro.autor %></td>
          <td class="p-3"><%= livro.genero %></td>
          <td class="p-3"><%= livro.disponivel %></td>
          <td class="p-3">
  <i class="ph ph-pencil-simple cursor-pointer text-blue-600 hover:text-blue-800"
     title="Editar Livro"
     onclick="abrirModalLivro(<%= JSON.stringify(livro) %>, <%= livros.indexOf(livro) %>)"></i>
</td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</div>

<%- include("../modals/edit_livro") %>